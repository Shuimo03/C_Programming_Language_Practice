# chapter1 程序设计和C语言

## 程序

程序是一组计算机能够识别和执行的指令，每条指令使计算机执行特定的操作。

## 计算机语言

- 能直接识别和接受二进制代码被称为机器指令
- 机器指令的集合是机器语言
- 符号语言/汇编语言
- 高级语言，第一个高级语言FORTRAN
  - 非结构化的语言：编程风格随意，没有严格的规范，程序中的流程可以随意跳转。
    - BASIC
    - FORTRAN
    - ALGOL
  - 结构化语言：规定程序必须具有良好的特性，具有基本结构(顺序结构/选择结构/循环结构)组成，程序中的流程不允许随意跳转，程序总是由上而下顺序执行各个基本结构，这种程序结构清晰，易于编写，阅读和维护，特点是支持结构化程序设计方法。
    - QBASIC
    - FORTRAN77
    - C语言
  - 面向对象语言：处理规模较大的问题，使用面向对象语言。
    - C++
    - C#
    - Java
    - Visual Basic

高级语言编译过程是，先使用编译器把源程序转换为技巧指令的程序也被称为目标语言，接着计算机执行目标程序，最后得到结果。

## C语言特点

1. 语言简洁，紧凑，使用方便，灵活，C语言一共37个关键字，9种控制语句。
2. 运算符丰富，一共有34种运算符。
3. 数据类型丰富。
   - 整型
   - 浮点型
   - 字符型
   - 数组类型
   - 指针类型
   - 结构体类型
   - C99添加了复数浮点型/超长整型/布尔类型
4. 具有结构化的控制语句，用函数作为程序模块单位，便于实现程序的模块化，C语言是完全模块化和结构化语言。
   - if else
   - if else if
   - while
   - do...while
   - switch
   - for
5. 语法限制不太严格，程序设计自由度大。
6. C语言允许直接访问物理地址，可以进行位运算操作，能够实现汇编语言的大部分功能，可以直接对硬件进行操作。
7. 用C语言编写的程序可移植性号
8. 生成的目标代码质高，程序执行效率高

## C语言程序的结构

1. 一个程序是一个或多个源程序文件组成
2. 一个源程序包括三个部分
   1. 预处理指令
   2. 全局声明
   3. 函数定义
   4. 函数
   5. 程序总是从main函数开始执行的
   6. 程序要求计算机完成的操作是由函数中的C语句完成的
   7. 在每个数据声明和语句最后必须有一个分号
   8. C语言本身不提供输入输出语句
   9. 程序应该有注释

函数是C程序的基本单位。

## 程序设计的阶段

1. 问题分析
2. 设计算法
3. 编写程序
4. 队员吗进行编辑，编译和连接
5. 运行程序，分析结果
6. 编写程序文档

## 课后习题

### question1：什么是程序？什么是程序设计？

程序是一组计算机能够识别和执行的指令，每条指令使计算机执行特定的操作，程序设计是指从确认任务到得到结果和写出文档的全部过程。

### question2：为什么需要计算机语言？高级语言有哪些特点？

因为计算机离不开程序，而编写程序的语言属于计算机语言，高级语言的特点有语法简单，容易理解，并且方便编写。

### question3：正确理解以下名词以及含义

1. 源程序，目标程序，可执行程序
2. 程序编辑，程序编译，程序连接
3. 程序，程序模块，程序文件
4. 函数，主函数，被调用函数，库函数
5. 程序调试，程序测试

源程序是指高级程序语言编写的文件，目标程序是被转为机器指令的程序，而可执行程序是指编译完成后的程序。

程序编辑是指正在编写的代码，而程序编译是把源程序转为目标程序的过程，程序连接是把所有目标模块连接配装起来，在和函数库连接。

程序是一组计算机能够识别和执行的指令，程序模块是指由汇编程序，编译程序，装入程序或翻译程序作为一个整体来处理的一级独立的，可识别的程序指令，程序文件是代码文件。

函数是C程序主要的组成部分，是C程序的基本单位，主函数是main()函数，每次代码都是从main函数开始运行，当一个函数被使用的时候说明这个函数被调用，scanf和printf等属于库函数。

### question4：编写一个C程序，运行输出Hello World!

```C
#include<stdio.h>

int main(){

    printf("Hello World!");
    return 0;
}
```

### question5：编写一个C程序，运行输出如下图形

```c
#include<stdio.h>

int main(){

    for (int i = 0; i < 4; i++){
        for (int j = 1; j < 5+i; j++){
            printf(" ");
        }
         for (int k = 0; k < 5; k++){
            printf("*");
        }
        printf("\n");
    }
    return 0;
}
```

# chapter2算法-程序的灵魂

一个程序主要包含两个方面的信息

- 对数据的描述：在程序中要制定用到那些数据，以及这些数据的类型和数据的组织形式，这就是数据结构。
- 对操作的描述：要求计算机进行操作的步骤，也就是算法。

数据是操作的对象，算法+数据结构 = 程序。

### 什么是算法

广义来说是，为了解决一个问题而采用的方法和步骤就是算法，计算机算法可以分为两类：数值运算算法和非数值运算算法，数值运算的目的是求数值解，例如求方程的根，非数值解范围广泛，最常见的是事务管理领域，比如对一批员工按照姓名排序，图书检索。

### 算法特性

1. 有穷性
2. 确定性
3. 输入性
4. 输出性
5. 有效性

### 表示算法的方式

1. 自然语言
2. 传统流程图
3. 结构化流程图
   1. 顺序结构
   2. 选择结构
   3. 循环结构
      1. 当型(while)结构
      2. 直到(until)结构
4. N-S流程图
5. 伪代码

## chapter3顺序程序设计

在计算机高级语言中，数据有两种表现形式：常量和变量。

### 常量

在程序运行过程中，值不能被改变的量称为常量，数值常量就是数学中的常数。

1. 整型常数
2. 实型常数
   1. 十进制小数形式，由数字和小数点组成。
   2. 指数形式，以字母e或E为底，e或E之前需要有数字，e后面必须整数。
3. 字符常量
   1. 普通字符：字符常量只能是一个字符，字符常量存储在计算机存储单元中，并不存储字符本身，字符本身转为对应ASCII码，以二进制形式存放。
   2. 转义字符\
4. 字符串常量
5. 符号常量 #define
6. 变量
   1. 常变量
   2. 标识符

### 变量

变量是用来存放数据，在程序运行期间，变量的值可以改变，变量必须先定义，后使用，用来对变量、符号常量名、函数、数组类型等命名的有效字符序列被称为标识符。标识符只能由字母和数字还有下划线。

### 合法标识符

编译器只识别前63个字符，外部标识符只允许使用31个字符，可以使用小写字母、大写字母、数字、下划线(_)命名，但是第一个字符必须是字符或下划线，不能是数字。

### 数据类型

1. 基本类型
   1. 整数型
      1. 基本整数型int
      2. 短整型 short
      3. 长整型 long
      4. 双长整型 long long
      5. 字符型 char
      6. 布尔型 bool
   2. 浮点类型
      1. 单浮点型 float
      2. 双浮点型 double
      3. 复数浮点型 float_complex/double_complex/long long_complex
2. 枚举类型
3. 空类型void
4. 派生类型
   1. 指针类型
   2. 数组类型
   3. 结构体类型
   4. 共用体类型
   5. 函数类型

### 算术类型

- 基本类型
- 枚举类型

### 纯量类型

- 算术类型
- 指针类型

### 组合类型

- 数组类型
- 结构体类型

### 运算符和表达式

C语言运算符

1. 算术运算符
2. 关系运算符
3. 逻辑运算符
4. 位运算符
5. 赋值运算符
6. 条件运算符
7. 逗号运算符
8. 指针运算符
9. 求字节运算符
10. 成员运算符
11. 下标运算符

算符运算符自左到右，赋值运算符自右到左。

### C语句

- 条件语句 if() else/if() else if()
- 循环语句 for()
- 循环语句 while()
- 循环语句 do while()
- 结束本次循环语句 continue
- 中止执行switch或循环语句 switch
- 从函数返回语句 return
- 转向语句 goto

### 输入输出函数

- printf("格式控制",输出列表)
  - 格式控制，被双撇号括起来的一个字符串，称为格式控制字符串
    1. 格式声明
    2. 普通字符
  - 输出列表
- scanf("格式控制",地址列表)
- putchar(c)：输出字符串变量c的值。
- getchar()：从输入设备获得一个字符。

## chapter4选择结构

C语言有两种选择语句

1. if语句，用来实现两个分支的选择结构
2. switch语句，用来实现多分支选择结构

### 运算符排序(从高到低)

1. 算术运算符
2. 关系运算符
3. 赋值运算符

## chapter5循环结构

- while循环
- do while循环
- for循环

当条件为假的时候，do while至少循环一次。for和while无条件相等。

break可以跳出循环，continue可以跳出一次循环，接着执行循环，直到不符合循环条件位置。

## chapter6利用数组结构处理批量数据

- 数组是一组有序数据的集合，数据中各数据的排列是一定有规律的，下标代表数据在数组中的序号。
- 用一个数组名和下标来确定数组中的元素。
- 数组中的每一个元素都属于同一个数据类型
- 数组名的命名规则和变量名相同，遵守符号名规则
- 定义数组的时候，需要指定数组的个数，数组长度是个数。数组下标是从0开始。
- 数组大小不能动态定义。
- 数组初始化，如果是指针类型的话就=NULL，字符串类型则 = '\0'
- 二维数组常被称为矩阵，把二维数组写成行和列的排列形式可以帮助理解，int{行}{列}
- 二维数组的长度是第一个常量表达式乘上第二个常量表达式的积。
- 字符串数组，'\0'之前的都是有效字符长度。

### 数组应用

- 排序
  - 升序 从小到大
  - 降序 从大到小

## chapter7用函数实现模块化程序设计

模块化程序设计是指在进行程序设计时将一个大程序按照功能划分为若干小程序模块，每个小程序模块完成一个确定的功能，并在这些模块之间建立必要的联系，通过模块的互相协作完成整个功能的程序设计方法。

函数就是功能，每一个函数用来实现一个特定的功能，函数名应该反映函数的功能，一个C程序由一个或多个程序模块组成，每一个程序模块作为一个源程序文件，对于较大的程序，一般是不希望把所有内容全部在放在一起，而是将它们分别放在诺干个源文件中，由诺干个源文件组成一个C程序，**这样便于分别编写和编译，提高调试效率，一个源程序文件可以为多个C程序共用。**

一个源程序文件由一个或多个函数以及其他有关内容(如指令、数据声明与定义等)组成，一个源程序文件是一个编译单位，在程序编译的时候是以源程序文件为单位编译。

C程序执行顺序是从main函数开始，如果在main函数中调用其他函数，在调用结束后，回到main中，在main中结束整个程序的运行。

所有函数是平行的，即在定义函数的时候是分别进行的，是相互独立的，函数之间不能嵌套定义，但是可以相互调用，用户定义的函数不能调用main函数，main函数只能被系统调用。

函数分为两种，一种是库函数，一种是用户定义的函数，用户定义是解决用户专门需要的函数。

函数从形式上分为，有参数函数和无参数函数，无参数函数不需要传值，有参数函数需要传值。

### 函数调用

在调用有参函数的时候，主调函数和被调函数之间有数据传递关系，在定义函数的时候函数名后面括号中的变量称为形式参数或虚拟参数，在主函数中调用一个函数的时候，函数名后面括号中的参数称为实际参数，实际参数可以是常量、变量或表达式。

### 函数返回

一个函数可以有一个以上的return语句，执行到那个return那个return语句就起作用，return后面可以是个表达式，在定义函数的时候指定函数类型应该和return语句中的表达式类型一致，函数类型决定返回值的类型，如果类型不同，则会被强制转换为函数类型的值，不带回值的函数，应当被定义为void类型。

### 函数调用过程

### 函数原型

函数的首行及函数的首部加个分号就是函数原型，函数原型的信息有(函数名/函数值类型/参数个数/参数类型和参数顺序)，实参必须和形参顺序一样，使用函数原型作为申明是C语言的一个重要特点，用函数原型来声明函数，能减少编写程序时可能出现的错误，编译器只关心和检查参数个数和参数类型，而不检查参数名，因为再调用函数的时候只要求保证实参类型与形参类型一致。

### 函数递归

在调用一个函数的过程中又出现间接或直接调用该函数本身称为函数的递归调用，一个递归问题可以分为回溯和递推两个阶段，递归需要退出条件。

### 数组作为函数参数

数组元素的作用和变量相当，一般来说，凡是变量可以出现的地方，都可以用数组元素代替，所以数组元素也可以用作函数实参，用法和变量一样，向形参传递数组元素的值，数组名也可以作为实参和形参，传递的是第一个元素的地址。

数组元素可以用作函数实参，但不能做形参，因为形参是在函数被调用是临时分配存储单元的，不可能为一个数组元素单独分配存储单元，所以在用数组元素做函数参数的时候，把实参的值传给形参，是值传递方式，数据传递的方向是从实参到形参，单向传递。

用数组名做函数实参的时候，不是把数组元素的值传给形参，而是参数的首元素地址传给形参数组，这样两个数组就共占用一段内存单元。

二维数组作为形参的时候，第一维可以省略，第二维不行。

### 局部变量和全局变量

局部变量的定义

- 在函数的开头开始定义
- 在函数内的复合语句内定义
- 在函数的外部定义

在一个函数内部定义的变量只有在函数内引用才有效，函数外的不能引用，同理，在复合语句内定义的变量不能被这个复合语句外的函数或复合语句等引用，这就是局部变量。

在函数外定义的变量属于全局变量，有效范围是从定义变量的位置开始到源文件结束。